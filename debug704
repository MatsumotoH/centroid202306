car_List = [(1, 10), (1, 20), (1, 30), (2, 30), (2, 20), (2, 35), (3, 100), (3, 115), (3, 120)]

previous_centroids = {}  # 直前のcentroidsを保持する辞書
objectID_count = {}  # objectIDごとのカウントを保持する辞書

for car in car_List:
    objectID, centroids = car

    if objectID not in previous_centroids:
        previous_centroids[objectID] = centroids  # 最初のcentroidsを保存
    else:
        if objectID in previous_centroids:
            difference = centroids - previous_centroids[objectID]
            previous_centroids[objectID] = centroids  # 直近のcentroidsを更新

            if difference > 0:
                state = "IN"
            else:
                state = "OUT"

            if objectID in objectID_count:
                del objectID_count[objectID]
            objectID_count[objectID] = {state: 1}

            # 各objectIDごとのカウント情報を表示
            for objectID, count in objectID_count.items():
                state, cnt = count.popitem()
                print(f"ObjectID {objectID}: {state} = {cnt}")
